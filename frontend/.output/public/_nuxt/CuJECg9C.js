import{_ as D}from"./Cv3A62oR.js";import{u as I,_ as S}from"./Cg97V0GM.js";import{_ as T}from"./ClKX_v3o.js";import{_ as L}from"./BIk-UJZc.js";import{_ as V}from"./sjmK8UFO.js";import{g as M,I as R,j as A,c as i,b as r,w as a,k as l,a as e,F as u,r as b,t as d,l as w,m as F,n as _,o,d as f}from"./DsjOer2v.js";import"./PBMIlgjC.js";const j={key:0,class:"space-y-4"},E={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3"},H={class:"mb-6"},P={class:"text-2xl font-bold tracking-tight"},q={class:"mt-1 flex items-center gap-2"},z={key:0,class:"py-16 text-center text-muted-foreground"},G={key:1,class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3"},J={class:"text-2xl font-bold"},K={class:"mt-1 text-sm text-muted-foreground"},O={class:"text-xs text-muted-foreground"},ot=M({__name:"[movieId]",setup(Q){const B=R(),g=I(),p=B.params.movieId,m=_(null),c=_([]),v=_(!0);A(async()=>{try{const[s,t]=await Promise.all([g.get(`/movies/${p}`),g.get("/showtimes",{params:{movie_id:p}})]);m.value=s.data,c.value=t.data||[]}catch(s){console.error(s)}finally{v.value=!1}});function C(s){return new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function N(s){return new Date(s).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"})}return(s,t)=>{const x=D,h=T,y=S,k=L,$=V;return o(),i("div",null,[r(x,{to:"/",class:"mb-6 inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground"},{default:a(()=>[...t[0]||(t[0]=[f(" â† Back to Movies ",-1)])]),_:1}),l(v)?(o(),i("div",j,[t[2]||(t[2]=e("div",{class:"h-8 w-48 animate-pulse rounded bg-muted"},null,-1)),e("div",E,[(o(),i(u,null,b(4,n=>r(y,{key:n,class:"animate-pulse"},{default:a(()=>[r(h,{class:"p-6"},{default:a(()=>[...t[1]||(t[1]=[e("div",{class:"h-12 rounded bg-muted"},null,-1)])]),_:1})]),_:1})),64))])])):(o(),i(u,{key:1},[e("div",H,[e("h1",P,d(l(m)?.title),1),e("div",q,[r(k,{variant:"secondary"},{default:a(()=>[f(d(l(m)?.durationMin)+" min",1)]),_:1}),l(m)?.rating?(o(),w(k,{key:0,variant:"outline"},{default:a(()=>[f(d(l(m)?.rating),1)]),_:1})):F("",!0)])]),t[3]||(t[3]=e("h2",{class:"mb-4 text-lg font-semibold"},"Available Showtimes",-1)),l(c).length===0?(o(),i("div",z,"No showtimes available")):(o(),i("div",G,[(o(!0),i(u,null,b(l(c),n=>(o(),w(x,{key:n.id,to:`/seats/${n.id}`},{default:a(()=>[r(y,{class:"transition-colors hover:border-primary/50 hover:bg-accent/50 cursor-pointer"},{default:a(()=>[r(h,{class:"p-6"},{default:a(()=>[e("div",J,d(C(n.startTime)),1),e("div",K,d(N(n.startTime)),1),r($,{class:"my-3"}),e("div",O,"Hall: "+d(n.auditoriumId),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))]))],64))])}}});export{ot as default};
